<!DOCTYPE html> <html lang="en"> <style> :root { --primary-color: rgba(10, 10, 72, 0.55);; --overlay-color: rgba(24, 39, 51 , 0.85); --menu-speed: 0.75s; } .container-show { max-width: 105rem; margin: auto; overflow: hidden; padding: 0 3rem; } .showcase { background: #fff; height: 90vh; position: relative; } .showcase:before { content: ''; background: #fff; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; } .showcase .showcase-inner { display: flex; flex-direction: row; align-items: center; justify-content: center; height: 100%; } .showcase h1 { font-size: 8rem; line-height: 1; } .showcase p { font-size: 2rem; } .logo{ font-family: Gotham XNarrow; text-transform: uppercase; } </style> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="p:domain_verify" content="24f4001fe32c84cdbe8a07fc24fdeecd"/> <title>Data Visualization in R using ggplot2 (PART 2) | The Analytics Bay</title> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Data Visualization in R using ggplot2 (PART 2) | The Analytics Bay</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="Data Visualization in R using ggplot2 (PART 2)" /> <meta name="author" content="Shivansh Mehendiratta" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="In the previous part of the series of blogs, we have covered the basics of visualization through ggplot2. But visualization is something which is not always simple and easy, there are many more dimensions to it. Read along as we explore some of them in today’s blog." /> <meta property="og:description" content="In the previous part of the series of blogs, we have covered the basics of visualization through ggplot2. But visualization is something which is not always simple and easy, there are many more dimensions to it. Read along as we explore some of them in today’s blog." /> <link rel="canonical" href="http://localhost:4000/blog/Data-Visualization-in-R-Part2/" /> <meta property="og:url" content="http://localhost:4000/blog/Data-Visualization-in-R-Part2/" /> <meta property="og:site_name" content="The Analytics Bay" /> <meta property="og:image" content="http://localhost:4000/bg.jpeg" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-07-14T00:00:00+05:30" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="http://localhost:4000/bg.jpeg" /> <meta property="twitter:title" content="Data Visualization in R using ggplot2 (PART 2)" /> <meta name="twitter:site" content="@shivansh3121" /> <meta name="twitter:creator" content="@shivansh3121" /> <script type="application/ld+json"> {"image":"http://localhost:4000/bg.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/Data-Visualization-in-R-Part2/"},"@type":"BlogPosting","url":"http://localhost:4000/blog/Data-Visualization-in-R-Part2/","datePublished":"2020-07-14T00:00:00+05:30","description":"In the previous part of the series of blogs, we have covered the basics of visualization through ggplot2. But visualization is something which is not always simple and easy, there are many more dimensions to it. Read along as we explore some of them in today’s blog.","author":{"@type":"Person","name":"Shivansh Mehendiratta"},"headline":"Data Visualization in R using ggplot2 (PART 2)","dateModified":"2020-07-14T00:00:00+05:30","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="shortcut icon" href="/img/favicon.png"> <link rel="stylesheet" href="/main.css"> <link href='https://olifro.st/feed.xml' rel='alternate' type='application/atom+xml'> <meta name="theme-color" content="#020cfa"> </head> <body> <div class="menu-wrap"> <input type="checkbox" class="toggler"> <div class="hamburger"><div></div></div> <div class="menu"> <div> <div> <ul> <li><a href="/blog">Blog</a></li> <li><a href="/about">About</a></li> <li><a href="/contact">Contact Us</a></li> </ul> </div> </div> </div> </div> <div class="bar container" style="top:0; border-bottom: 5px solid #bb71f8;"><a href="/"><div class="logo" style=" padding: 30px 0;">The Analytics Bay</div></a><ul class="specialul"> <li><a href="/contact">Contact Us</a></li> <li><a href="/about">About</a></li> <li><a href="/blog">Blog</a></li> </ul></div> <main class="content"> <div class="container" style="margin-top: 80px"> <a href="/blog/">← All Posts</a> / <time datetime="2020-07-14T00:00:00+05:30" class="post-date">14 Jul 2020</time> <article class="post"> <h1 class="post-title">Data Visualization in R using ggplot2 (PART 2)</h1> <p></p> <p class="post-description"><p>In the previous part of the series of blogs, we have covered the basics of visualization through ggplot2. But visualization is something which is not always simple and easy, there are many more dimensions to it. Read along as we explore some of them in today’s blog.</p> </p> <p><p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Featured.jpg" alt="Data Visualisation in R" /> PLOT 11 - JITTER <img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot11 jitter.png" alt="Data Visualisation in R" /> So, what’s a jitter? Jitter is a random value that is assigned to the variable so they don’t fall on top of each other.</p> <p>Code - ggplot(data=diamond, aes(y= price,x=cut,color=cut)) + geom_jitter(size=1.2, alpha= 0.5)</p> <p>PLOT 12 - Box Plot</p> <p>Code - ggplot(data=diamond, aes(y= price,x=cut,color=cut)) + geom_boxplot(size=1.2)</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/2.png" alt="Data Visualisation in R" /></p> <p>Box pot is a method to show data through their quartiles. The line in middle shows the median of the range. This gives us a hint about skewness and some other characteristics of the data.</p> <p>The dots out of the box represent outliers. It is a useful tool to quickly represent outliers.</p> <p>Here it can be observed that median of the premium quality cuts is higher, this sounds very reasonable because the premium quality does have high prices.</p> <p>PLOT 13 - Histogram</p> <p>Code - ggplot(data=diamond, aes( x = price)) + geom_histogram(binwidth = 1000, color= “Blue”, fill= “White”) <img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/3.png" alt="Data Visualisation in R" /></p> <p>The histogram represents the price of a diamond and the no. of diamonds in each price range. Binwidth here represents the width of each bar in the histograms. Please note that here colour represents the outline colour of the bar and fill represents the inside. A key take away from here is that almost more than 15000 diamonds lie in the range of 1000$-2000$. But remember, what we’ve tried now is setting i.e assigning one colour to the whole plot. Let’s try mapping -</p> <p>PLOT 14 - Mapping Histogram</p> <p>Trying out mapping -</p> <p>Code - ggplot(data=diamond, aes( x = price)) + geom_histogram(binwidth = 1000, aes( fill= clarity)) <img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/4-Plot15-Adding Color.png" alt="Data Visualisation in R" /></p> <p>Now we have the categorization based on clarity in each price range but the graph looks distorted and cluttered in. Let’s try to add a borderline to see a better view.</p> <p>PLOT 15 - Adding Color</p> <p>Code - ggplot(data=diamond, aes( x = price)) + geom_histogram(binwidth = 1000, aes( fill= clarity),color=”Black”)</p> <p>The chart now looks good and is understandable. Let’s move on to explore facets now -</p> <p>Facets –</p> <p>Facets are used to create subdivision. For example - we want to see the price of each diamond concerning its cut independently. We will use facets to divide the diamonds according to their cuts. The code for creating distinct plots in one bar is – facet_grid(Rows~Columns).</p> <p>Replace rows for dividing charts in the form of rows and columns for the same. Let’s try it out -</p> <p>PLOT 16 - Scatter Plot (Facet Version)</p> <p>Code - ggplot(data=diamond, aes(x = carat ,y=price)) + geom_point() + facet_grid(clarity~.)</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot-16-Scatter Plot.png" alt="Data Visualisation in R" /> Here, we have a relation between price and carat of each category of clarity. Each category of clarity has a different scatter plot in the form of rows. We would like you to try the same thing in the column form of facet_grid. Code would appear something like this -</p> <p>Code - ggplot(data=diamond, aes(x = carat ,y=price)) + geom_point() + facet_grid(~Clarity)</p> <p>PLOT 17 -</p> <p>Now we’ll use both row and column</p> <p>Code - ggplot(data=diamond, aes(x = carat ,y=price)) + geom_point() + facet_grid(clarity~cut)</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot 17.png" alt="Data Visualisation in R" /></p> <p>The chart now is depicting relationship between carat and price on the basis of the quality of cut as well as clarity.Let’s refine our chart to make it visually appealing.</p> <p>PLOT 18 - Refining Visualization</p> <p>Code - ggplot(data=diamond, aes(x = carat ,y=price)) + geom_point(aes(color= cut),size=0.5,alpha=0.5) + facet_grid(clarity~cut)+geom_smooth()</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot 18 Refining viz.png" alt="Data Visualisation in R" /></p> <p>We’ve reduced the size of the dots to make it easy for us to interpret. Smoother is added to identify trends, if there’s any. It can be seen from the chart that diamonds with I1 clarity and very good cut has almost equal price range as the premium cut. The cheapest diamonds are here seen to be of VVS2 category with fair cut, which makes sense. Coordinates –</p> <p>Co-ordinates deal with adjusting or zooming in and out of your coordinates. Let’s zoom in to one of the previously made visualizations.</p> <p>Code - ggplot(data=diamond, aes( x = price)) + geom_histogram(binwidth = 1000, aes( fill= clarity),color=”Black”) + coord_cartesian(ylim = c(0,10000))</p> <p>PLOT 19 -</p> <p>The y-axis is zoomed in from (0-10,000), there is also another method of limiting your axes. You can similarly limit the x-axis as well. However, that method sometimes cuts your data and is not advisable. The code is given here, we would suggest you to try it yourself and identify this limitation.</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot 19.png" alt="Data Visualisation in R" /> Code - ggplot(data=diamond, aes( x = price)) + geom_histogram(binwidth = 1000, aes( fill= clarity),color=”Black”) + ylim(0,10000)</p> <p>PLOT 20 -</p> <p>Let’s now try zooming in both the axes -</p> <p>Code - ggplot(data=diamond, aes( x = price)) + geom_histogram(binwidth = 1000, aes( fill= clarity),color=”Black”) +</p> <p>coord_cartesian(ylim = c(0,10000),xlim = c(0,10000))</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot 20.png" alt="Data Visualisation in R" /></p> <p>We’ve successfully zoomed in both the axes, we believe that is all there is tell about axes. Let’s move on to themes.</p> <p>Themes –</p> <p>Theme is all about formatting your axes labels, adjusting and positioning legend. This should’ve been done to every chart but you can of course go and apply this to every chart.</p> <p>Let’s start with one of our most basic plots and start giving it the elements of themes.</p> <p>Starting with labels and titles -</p> <p>Code - ggplot(data=diamond, aes(y=price,x=carat, color= cut)) + geom_point(alpha=0.5) + xlab(“Diamond carat”) + ylab(“Price”) + ggtitle(“Relationship between Price and Carat”)</p> <p>PLOT 21 - Giving label</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot 21 giving labe_.png" alt="Data Visualisation in R" /> The chart looks more descriptive, but there is still a lot of scope for improvement. Let’s try to change the font of labels.</p> <p>PLOT 22 - Adjusting Label</p> <p>Code - ggplot(data=diamond, aes(y=price,x=carat, color= cut)) + geom_point(alpha=0.5) + xlab(“Diamond carat”) + ylab(“Price”) +</p> <p>ggtitle(“Relationship between Price and Carat”) +</p> <p>theme(axis.title.x = element_text(color = “Dark Blue”, size = 30),</p> <p>axis.title.y = element_text(color = “Dark Blue”, size = 30),</p> <p>axis.text.x = element_text(size=20), axis.text.y = element_text(size=20))</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot22 Adjust label.png" alt="Data Visualisation in R" /> Finally, Lets adjust labels and get done with it.</p> <p>PLOT 23 - Final Touch</p> <p>Code - ggplot(data=diamond, aes(y=price,x=carat, color= cut)) + geom_point(alpha=0.5) + xlab(“Diamond carat”) + ylab(“Price”) + ggtitle(“Relationship between Price and Carat”) +</p> <p>theme(axis.title.x = element_text(color = “Dark Blue”, size = 20),axis.title.y = element_text(color = “Dark Blue”, size = 20),axis.text.x = element_text(size=20),axis.text.y = element_text(size=20),legend.title = element_text(size = 15),legend.text = element_text(size = 15),legend.position = c(1,1),legend.justification = c(1,1), plot.title = element_text(color=”Dark Blue”,size=20,family = “Courier”))</p> <p><img src="/blog/Data Viz in R (Part 2)-20200902T032404Z-001/Data Viz in R (Part 2)/Plot23 final touch.png" alt="Data Visualisation in R" /> Finally, we’re done with everything. I would suggest you to try things on your own and experiment things in order to get a better view yourself.</p> <p>Before proceeding towards visualization, it is highly suggested to be aware about all the elements of your data set and what is to be achieved from it.</p> <p>GGPLOT2, in it has even more fascinating and useful tools. We suggest our readers to explore more of it and learn more about it.</p> <p>The use of visualization techniques differ according to the purpose it serves but the underlying idea essentially remains the same. We hope that the basic idea and concept of visualization is clear to all of you. So, play around with these visualizations and do write to us in case of any queries. All the best!!!</p> </p> <p><strong>Recommended</strong> <a href="/blog/Cool-Python-Libraries/">» Cool Python Libraries </a><br> </p> </article> </div> </main> <!-- <footer id="footer"> <div class="row"> <div class="col-xs-12 col-sm-3 footer-social center-xs"> <small class="social"> <div> <span class="icons"> <a href="https://facebook.com/nucleus.cbs"> <span class="icon icon--instagram"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/></svg></span></a> <a href="https://www.linkedin.com/company/nucleus-cbs/"> <span class="icon icon--twitter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></span></a> <a href="https://instagram.com/nucleus.cbs"> <span class="icon icon--instagram"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></span></a> </span> <form action="https://formspree.io/xeqrjbrn" method="POST"> <input type="email" name="replyto" id="Email" placeholder="Mailing List Email" class="email" required> <input type="hidden" name="_next" value="https://nucleuscbs.github.io/thanks/" /> <input type="submit" value="Join"> </form> </div> </small> </div> <div class="col-xs-12 col-sm-6 footer"> <h1 style="color: #fff">Collegiate Entrepreneurs Organisation</h1> <h1>Delhi University</h1> </div> <div class="col-xs-12 col-sm-3 footer"> <a href="/noprivacy/">Privacy Policy</a> | &copy; CEO, Delhi University </div> </div> </footer> --> <footer id="footer" style=" display:grid; grid-template-columns: repeat(20,5%); grid-template-rows: repeat(20,5%); height: 40vh; "> <div class="footer-social footer-layout-social"> <small class="social"> <div> <span class="icons"> <a href="https://facebook.com/nucleus.cbs"> <span class="icon icon--instagram"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/></svg></span></a> <a href="https://www.linkedin.com/company/nucleus-cbs/"> <span class="icon icon--twitter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></span></a> <a href="https://instagram.com/nucleus.cbs"> <span class="icon icon--instagram"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></span></a> </span> <form action="https://formspree.io/xeqrjbrn" method="POST"> <input type="email" name="replyto" id="Email" placeholder="Mailing List Email" class="email" required> <input type="hidden" name="_next" value="https://nucleuscbs.github.io/thanks/" /> <input type="submit" value="Join"> </form> </div> </small> </div> <div class="footer-layout-text"> <h1 style="color: #000; margin:0; line-height: 1.2; font-family: Gotham XNarrow;letter-spacing: 0.05rem;">THE ANALYTICS BAY</h1> <img src="/nucleus.png" style="height:50px;width:auto;margin-left:0;"> <!-- <h1 style="line-height: 1.2;font-family: Gotham XNarrow;letter-spacing: 0.05rem; font-size: 3rem;color:#000">Nucleus, the analytics society of SSCBS</h1> --> </div> <div class="footer-layout-copy"> &copy; The Analytics Bay </div> </footer> <script async src=""></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); </script> <!-- Rotator --> </body>
